---
title: K3s
description:
parent: Step 2 (Pick 1)
grand_parent: Kubernetes & Dynatrace Workshop
---

## K3s

These steps will add k3s kubernetes to your bowl.  You should already have an ubuntu 20.04 server running from [step 1](step1).

### Login to your ubuntu server

Login to your ubuntu computer.  If you used **multipass**, login via `multipass shell DTkube`.

### Install k3s kubernetes

```bash
curl -sfL https://get.k3s.io | K3S_KUBECONFIG_MODE="644" sh -
```

> - The curl command downloads k3s & sh - executes the installer.  
> - The K3S_KUBECONFIG_MODE install option makes the kube config file accessible to non-admins.  It's a shortcut for this workshop and wouldn't be used in production.  You'll see a couple of warnings about this later- but for a lab environment it's just fine.

### Export the KUBECONFIG environment variable

Exporting this variable allows kubernetes to find your installation.

```bash
export KUBECONFIG=/etc/rancher/k3s/k3s.yaml
```

### Install Kubecontrol

```bash
curl -LO https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl
```

> kubecontrol is the controller manager for kubernetes.  We'll use it through the workshop for adding/changing the kubernetes installation.  Similar to before, curl downloads the software and launches a bash shell for installation.

### :checkered_flag: CHECKPOINT

Run `kubectl get nodes` and ensure you see a 'ready' response for your control-plane.  If you get an error, it's typically a miss on on exporting the KUBECONFIG environment variable.  

### Create namespaces

We'll create a few namespaces to organize kubernetes.  We'll use these over the upcoming steps to keep everything tidy.

```bash
kubectl create ns cert-manager
kubectl create ns cow-herder
```

### :checkered_flag: CHECKPOINT

Take a moment to revel in the glory of your organization with `kubectl get ns` to see the spaces you've setup.  You'll see several system-generated namespaces in there along with the ones you've created.

### Next Steps

If kubernetes is up and running, Congratulations!  You're well on your way to a full-featured Kubernetes installation.  Let's add **Rancher** in [Step 3](step3).

<script src="{{ base.url | prepend: site.url }}/assets/js/copy.js"></script>
